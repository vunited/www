<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<title>{$titleh} - {$shop_name}</title>
<link rel="stylesheet" href="css/zyit.css" />
<link rel="stylesheet" href="css/style.css" />
<link rel="stylesheet" href="css/js.css" />
<script type="text/javascript" src="js/transport.js"></script>
<script type="text/javascript" src="js/sms.js"></script>
<link rel="stylesheet" href="fonts/font-awesome.min.css">
</head>
<body> 
<script type="text/javascript">
	function submit(obj){
		obj.submit();
	}
	function Isyx(yx){
	 var reyx= /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;
	 return(reyx.test(yx));
	}
	
	function IsMobile(mobile){
	 var reg = /^1[3|4|5|7|8]\d{9}$/; //手机号码不是合法号码
	 return(reg.test(mobile));
	}	
	
	function check(theForm){		
		if(theForm.username.value == "" || theForm.username.value.length < 4){
			//alert("用户名至少为4位!");theForm.username.focus();
			document.getElementById('light').style.display='block';
            document.getElementById('lightc').innerHTML = "用户名至少为4位!"; 
			return false;
		}
		if(theForm.password.value == "" || theForm.password.value.replace(/[ ]/g,"").length < 6){
			//alert("密码至少为6位!");theForm.password.focus();
			document.getElementById('light').style.display='block';
            document.getElementById('lightc').innerHTML = "密码至少为6位!"; 
			return false;
		}
		if(theForm.password.value != theForm.passwords.value){
			//alert("密码至少为6位!");theForm.password.focus();
			document.getElementById('light').style.display='block';
            document.getElementById('lightc').innerHTML = "密码确认不一致!"; 
			return false;
		}
		if(theForm.email.value == ""){
			//alert("请输入Email!");theForm.email.focus();
			document.getElementById('light').style.display='block';
            document.getElementById('lightc').innerHTML = "请输入Email!"; 
			return false;
		}
		if(!Isyx(theForm.email.value)){ 
			//alert("请输入正确的Email地址!");theForm.email.focus();
			document.getElementById('light').style.display='block';
            document.getElementById('lightc').innerHTML = "请输入正确的Email地址!"; 
			return false; 
		} 
		if(!IsMobile(theForm.extend_field5.value)){ 
			//alert("请输入正确的Email地址!");theForm.email.focus();
			document.getElementById('light').style.display='block';
            document.getElementById('lightc').innerHTML = "请输入正确的手机号码!"; 
			return false; 
		} 
		
		<!-- {foreach from=$extend_info_list item=field} -->
		<!-- {if $field.is_need} -->
			<!-- {if $field.id eq 6} -->
				if(theForm.sel_question.value == 0){
					//alert("请选择提示问题!");theForm.sel_question.focus();
					document.getElementById('light').style.display='block';
					document.getElementById('lightc').innerHTML = "请选择提示问题!"; 
					return false;
				}
				if(theForm.passwd_answer.value == ""){
					//alert("请输入问题答案!");theForm.passwd_answer.focus();
					document.getElementById('light').style.display='block';
					document.getElementById('lightc').innerHTML = "请输入问题答案!"; 
					return false;
				}
			<!-- {else} -->
				if(theForm.extend_field{$field.id}.value == ""){
					//alert("请输入{$field.reg_field_name}!");theForm.extend_field{$field.id}.focus();
					document.getElementById('light').style.display='block';
					document.getElementById('lightc').innerHTML = "请输入{$field.reg_field_name}!"; 
					return false;
				}
			<!-- {/if} -->
		<!-- {/if} -->
		<!-- {/foreach} -->
		theform.submit();
	}
</script>
{include file='heard.dwt'}
{include file='heardt.dwt'}
   <!----- content ------>
      <form onSubmit="javascript:return check(formUser);" action="user.php?act=act_register" method="post" name="formUser">
     <div class="ub ub-ver m-t4 ubt bc-border2">
         <div class="h4 bg-c6"></div>
         <div class="bg-c1 ub ub-ver login m-b2">
            <div class="ub h3 ub-f1 ub-ac ubb bc-border1">
               <div class="ub fs04 c10 w3 ub-pc">用户名</div>
               <input name="username" type="text" class="ub ub-f1 ub-ac h0" id="username" placeholder="用户名"/>
            </div>
			
			<div class="ub h3 ub-f1 ub-ac ubb bc-border1">
               <div class="ub fs04 c10 w3 ub-pc">注册手机号</div>
               <input type="text" name="extend_field5" id="extend_field5" placeholder="请输入手机号" class="ub ub-f1 ub-ac h0"/>
			   <a href="javascript:void(0)" id="zphone" onclick="sendsms();" class="ub fs03 c1 bg-c2 yzm m-r1">发送验证码</a>
            </div>
            <div class="ub h3 ub-f1 ub-ac ubb bc-border1">
               <div class="ub fs04 c10 w3 ub-pc">输入验证码</div>
               <input type="text" name="mobile_code" id="mobile_code" placeholder="手机验证码" class="ub ub-f1 ub-ac h0"/>
            </div>
			
            <div class="ub h3 ub-f1 ub-ac ubb bc-border1">
               <div class="ub fs04 c10 w3 ub-pc">密码</div>
               <input name="password" type="password" class="ub ub-f1 ub-ac h0" id="password" placeholder="请输入密码"/>
            </div>
            <div class="ub h3 ub-f1 ub-ac ubb bc-border1">
               <div class="ub fs04 c10 w3 ub-pc">确认密码</div>
               <input name="passwords" type="password" class="ub ub-f1 ub-ac h0" id="passwords" placeholder="请确认密码"/>
            </div>            
            <div class="ub h3 ub-f1 ub-ac ubb bc-border1">
             <div class="ub fs04 c10 w3 ub-pc">常用邮箱</div>
              <input name="email" type="text" class="ub ub-f1 ub-ac h0" id="email" placeholder="请输入邮箱"/>
            </div>
            

            

            
            {foreach from=$extend_info_list item=field}
			{if $field.id eq 6}

          
			<div class="ub h3 ub-f1 ub-ac">
             <div class="ub fs04 c10 w3 ub-pc">{if $field.is_need}<font style="color:#FF0000"> *</font>{/if}提示问题</div>
              <select name='sel_question' id='sel_question' class="ub ub-f1 ub-ac h0">
				<option value='0'>请选择提示问题</option>
				{html_options options=$passwd_questions}
			</select>
            </div>
			<div class="ub h3 ub-f1 ub-ac">
             <div class="ub fs04 c10 w3 ub-pc">{if $field.is_need}<font style="color:#FF0000"> *</font>{/if}问题答案</div>
              <input type="text" class="ub ub-f1 ub-ac h0" name="passwd_answer" id="passwd_answer"/>
            </div>
            {elseif $field.id eq 5}    
            {else}
            <div class="ub h3 ub-f1 ub-ac">
             <div class="ub fs04 c10 w3 ub-pc">{if $field.is_need}<font style="color:#FF0000"> *</font>{/if}{$field.reg_field_name}</div>
              <input type="text" class="ub ub-f1 ub-ac h0" name="extend_field{$field.id}" id="extend_field{$field.id}"/>
            </div>
			{/if}
			{/foreach}
            
            
     </div> 
         <div class="h4 bg-c6"></div>
         <div>
            <button type="submit" class="bg-c7 btn c1 fs06 h3" style="width:100%;">立即注册</button>
         </div>
         <div class="ub ub-f1 h3 bg-c1">
            <a href="user.php" class="h3 ub ub-ac register fs04 c11">已有账号,<span class="c12">直接登录</span></a>
         </div> 
      </div><input name="act" type="hidden" value="act_register" /><input type="hidden" name="back_act" value="{$back_act}" />
      </form>
   <!----- content end ------>


{include file='foot.dwt'}
</body>
</html>